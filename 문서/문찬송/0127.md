# 0127

### ê³µí†µPJT ê´€ë ¨ ì§„í–‰ì‚¬í•­

- ê¸°ëŠ¥ ë‹¨ìœ„ ì»´í¬ë„ŒíŠ¸ ë‚˜ëˆ  ì‘ì„± + Vuex í™œìš©ì„ ìµœëŒ€í•œ í•´ë³´ë ¤ê³  í–ˆë‹¤

##### Conference List(ë°©ëª©ë¡) ì¡°íšŒí•˜ê¸° ê¸°ëŠ¥ - ì „ì²´ì ì¸ í‘œì‹œì‚¬í•­ ìˆ˜ì •

![image-20220127234259521](0127/image-20220127234259521.png)

##### Conference List(ë°©ëª©ë¡) ì¡°íšŒí•˜ê¸° - ì¹´í…Œê³ ë¦¬ ê¸°ì¤€ filter

![image-20220127234323559](0127/image-20220127234323559.png)

##### Conference List(ë°©ëª©ë¡) ì¡°íšŒí•˜ê¸° - ì œëª©ìˆœ/ìƒì„±ì‹œê°„ ìˆœ & ì˜¤ë¦„ì°¨ìˆœ/ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬

![image-20220127234314542](0127/image-20220127234314542.png)

##### Conference List(ë°©ëª©ë¡) ì¡°íšŒí•˜ê¸° - ì œëª© ê¸°ì¤€ ê²€ìƒ‰

![image-20220127234339594](0127/image-20220127234339594.png)

-----

### code

##### conferenceStore.js

```javascript
import http from "@/config/http-common.js";

const conferenceStore = {
  namespaced: true,
  state: {
    conferenceItems: []
  },
  mutations: {
    LOAD_CONFERENCE_ITEMS: function (state, results) {
      if (results.length == 0){
        state.conferenceItems = false;
      } else {
      state.conferenceItems = results;
      }
    },

  },
  actions: {
    LoadConferenceItems: function ({commit}) {
      http({
      method: 'get',
      url: `/conferences`,
      })
        .then((response) => {
          console.log(response);
          commit('LOAD_CONFERENCE_ITEMS', response.data)
        })
        .catch((err) => {
          console.dir(err);
          console.log(err);
      });
    },
    getConferenceByCategory : function ({commit}, conference_type) {
      http({
      method: 'get',
      url: `/conferences/getConferenceByCategory?categoryType=${conference_type}`,
      })
        .then((response) => {
          console.log(response);
          commit('LOAD_CONFERENCE_ITEMS', response.data);
        })
        .catch((err) => {
          console.dir(err);
          console.log(err);
          console.log(conference_type)
        });
    },
    getConferenceBySort : function ({commit}, sort_option) {
      console.log(sort_option)
      http({
      method: 'get',
      url: `/conferences/getConferenceBySort?asc=${sort_option}`,
      })
        .then((response) => {
          console.log('ok')
          console.log(response);
          commit('LOAD_CONFERENCE_ITEMS', response.data);
        })
        .catch((err) => {
          console.dir(err);
          console.log(err);
        });
    },
    searchByTitle : function ({commit}, search_value) {
      http({
      method: 'get',
      url: `/conferences/searchByTitle?word=${search_value}`,
      })
        .then((response) => {
          console.log(response);
          commit('LOAD_CONFERENCE_ITEMS', response.data);
        })
        .catch((err) => {
          console.dir(err);
          console.log(err);
          console.log(search_value)
        });
    },
  },
};

export default conferenceStore;

```

##### ConferenceListItem.vue

```vue
<template>
  <div class="col"> <!--í™œì„±ì¤‘ì¸ íšŒì˜ì‹¤ë§Œ ë Œë”ë§í•˜ë„ë¡-->
    <b-card no-body bg-variant="light" class="overflow-hidden mx-2 my-2" style="max-width: 540px;">
      <b-row no-gutters>
        <b-col md="6">
          <b-card-img :src="thumbnail_url" alt="Image" class="rounded-3 mt-3 ms-3"></b-card-img>
        </b-col>
        <b-col md="6" class="mb-3">
          <b-card-body :title="item.title"> <!--ë°© ì œëª©-->
            <b-card-text>
              <p class="card-text">ë°©ë²ˆí˜¸: {{ item.id }}</p> <!--íšŒì˜ ë²ˆí˜¸-->
              <p class="card-text">ì±…ì œëª©: {{ item.book_detail_id }}</p> <!--bookStoreì™€ ì—°ê²°í•´ì„œ ì±… ì œëª© ê°€ì ¸ì™€ì•¼í•¨..?-->
              <p class="card-text" v-if="item.conference_type==1">ë°©ì¹´í…Œê³ ë¦¬: ì—…ë¬´</p> <!--ì¹´í…Œê³ ë¦¬ë²ˆí˜¸-->
              <p class="card-text" v-if="item.conference_type==2">ë°©ì¹´í…Œê³ ë¦¬: êµìœ¡</p> <!--ì¹´í…Œê³ ë¦¬ë²ˆí˜¸-->
              <p class="card-text" v-if="item.conference_type==3">ë°©ì¹´í…Œê³ ë¦¬: ê¸°íƒ€</p> <!--ì¹´í…Œê³ ë¦¬ë²ˆí˜¸-->
              <p class="card-text">íšŒì˜ì‹œì‘ì‹œê°„: {{ item.call_start_time }}</p>
              <p class="card-text">íšŒì˜ì¢…ë£Œì‹œê°„: {{ item.call_end_time }}</p>
              <p v-if="item.is_active" class="card-text">ì§„í–‰ì¤‘ ìœ ë¬´: <span class="text-success">ì§„í–‰ì¤‘</span> </p> 
              <p v-else class="card-text">ì§„í–‰ì¤‘ ìœ ë¬´: <span class="text-danger">ì¢…ë£Œ</span></p> 
              
            </b-card-text>
          </b-card-body>
          <b-button variant="primary" @click="enterConference" v-if="item.is_active">ì…ì¥</b-button> <!--í´ë¦­ì‹œ íšŒì˜ì‹¤idì— ë§ëŠ” detail ë§í¬ì™€ ì—°ê²°-->
          <p class="badge bg-dark text-wrap fs-6 mb-1" v-else style="padding: 12px;">ì…ì¥ë¶ˆê°€</p> <!--í´ë¦­ì‹œ íšŒì˜ì‹¤idì— ë§ëŠ” detail ë§í¬ì™€ ì—°ê²°-->
        </b-col>
      </b-row>
    </b-card>
  </div>


</template>

<script>
export default {
  name: 'ConferenceListItem',
  props: {
    item: {
      type: Object,
      required: true,
    },
  },
  methods: {
    enterConference() {
      this.$router.push({
        path: `/Conference/view/${this.item.id}`,
      });
    }
  },
  data: function () {
    return {
      thumbnail_url: 'https://search.pstatic.net/common/?src=http%3A%2F%2Fblogfiles.naver.net%2F20150415_3%2Fkoowq_1429106016874OoUDk_PNG%2F%25C0%25E7%25BB%25FD_%25BE%25C6%25C0%25CC%25C4%25DC2-02.png&type=sc960_832' //ì„ì‹œ ê¸°ë³¸ì´ë¯¸ì§€
      // thumbnail_url: `https://iamge/${this.item.thumbnail_url}`,
    }
  }
}
</script>

<style>

</style>
```

##### ConferenceList.vue

```vue
<template>
  <div class="container">

    <div class="row row-cols-1 row-cols-lg-2 row-cols-xl-3 g-4" v-if="conferenceItems">
      <conference-list-item
        v-for="item in conferenceItems"
        :key="item.id"
        :item="item"
      >
      </conference-list-item>
    </div>
    <div v-else>
      <h3 class="text-danger my-3">- í˜„ì¬ ì§„í–‰ì¤‘ì¸ íšŒì˜ê°€ ì—†ìŠµë‹ˆë‹¤ -</h3>
    </div>
  </div>
</template>

<script>
import { mapState } from "vuex";
import { mapActions } from "vuex";
import ConferenceListItem from './ConferenceListItem.vue';

const conferenceStore = "conferenceStore";

export default {
  name: 'Home',
  components: {
    ConferenceListItem
  },
  created: function () {
    this.LoadConferenceItems
  },
  computed: {
    ...mapActions(conferenceStore, ['LoadConferenceItems']),
    ...mapState(conferenceStore, ['conferenceItems'])    
  }
}
</script>

```

##### ConferenceFilter.vue

```vue
<template>
  <div>
    <b-form-select v-model="selected" :options="options" class="mb-3">
      <!-- This slot appears above the options from 'options' prop -->
      <template #first>
        <b-form-select-option :value="null" disabled>--ì¹´í…Œê³ ë¦¬ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”--</b-form-select-option>
      </template>
    </b-form-select>
    <b-button class="ms-2" @click="getFilter">ì„ íƒ</b-button>

    <!-- <div class="mt-3">Selected: <strong>{{ selected }}</strong></div> -->
  </div>

</template>

<script>
import { mapActions } from "vuex";

const conferenceStore = "conferenceStore";

export default {
  name: 'ConferenceFilter',
  methods: {
    ...mapActions(conferenceStore, ['getConferenceByCategory']),
    getFilter() {
      // console.log(this.selected)
      if (this.selected == null) {
        alert('ì¹´í…Œê³ ë¦¬ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”')
      } else {
        this.getConferenceByCategory(this.selected)
      }
  }
  },
  data: function () {
    return {
      selected: null,
      options: [
        { value: '1', text: 'ì—…ë¬´' },
        { value: '2', text: 'êµìœ¡' },
        { value: '3', text: 'ê¸°íƒ€' },
      ]
    }
  },

}
</script>

<style>

</style>
```

##### conferenceSearch.vue

```vue
<template>
  <div class="container"> <!-- ëª…ì„¸ì„œì—ì„œëŠ” íŒì—… ì ìš©í•˜ë¼ê³  ë˜ì–´ìˆìŒ-->
    <b-form inline class="searchBox mt-3 row offset-7 col-5" autocomplete="off" onsubmit="return false"> 
            <!-- autocomplet / onsubmit ì„¤ì • ì•ˆí•˜ë©´ ì—”í„°ì¹˜ë©´ í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ë¨(form íƒœê·¸ ì•ˆì— ë²„íŠ¼íƒœê·¸ê°€ ìˆì–´ì„œ ì—”í„°ë¥¼ ëˆ„ë¥´ë©´ buttonì˜ submitì´ ë™ì‘í•´ì„œ ê·¸ë ‡ë‹¤ê³  í•¨) -->
      <b-form-input
        class="form-control d-inline"
        v-model.trim="text"
        placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”"
        @keyup.enter="conferenceSearch"
      >
      </b-form-input>
      <b-button class="offset-10 col-2 mt-1" @click="conferenceSearch">ê²€ìƒ‰</b-button>
    </b-form>
  </div>

</template>

<script>
import { mapActions } from "vuex";

const conferenceStore = "conferenceStore";

export default {
  name: 'ConferenceSearch',
  methods: {
    ...mapActions(conferenceStore, ['searchByTitle']),
    conferenceSearch() {
      console.log(this.text)
      const value = this.text
      if( value == "" || value == null || value == undefined || ( value != null && typeof value == "object" && !Object.keys(value).length ) ){ 
        return alert('ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!')
        }else{ 
          return this.searchByTitle(value)
        }
    }
  },
  data: function () {
    return {
      text: ''
    }
  },

}
</script>

<style>

</style>
```

##### conferenceSort.vue

```vue
<template>
  <div>
    <b-form-select v-model="selected_sort_value" :options="sort_value_options"></b-form-select>
    <b-form-select v-model="selected_sort_option" :options="sort_options" class="mx-2"></b-form-select>
    <!-- <div class="mt-3">Selected: <strong>{{ selected_sort_option }}</strong></div>
    <div class="mt-3">Selected: <strong>{{ selected_sort_value }}</strong></div> -->
    <b-button @click="conferenceSort">ì •ë ¬</b-button>
  </div>

</template>

<script>
import { mapActions } from "vuex";

const conferenceStore = "conferenceStore";

export default {
  name: 'ConferenceSort',
  methods: {
    ...mapActions(conferenceStore, ['getConferenceBySort']),
    conferenceSort() {
      if (this.selected_sort_option == null || this.selected_sort_value == null) {
        alert('ì˜µì…˜ì„ ëª¨ë‘ ì„ íƒí•´ì£¼ì„¸ìš”')
      } else {
        this.getConferenceBySort((`${this.selected_sort_option}&sort=${this.selected_sort_value}`)) // payload í•œê°œë°–ì— ì•ˆë¼ì„œ ë¬¸ìì—´ë¡œ ë¶™ì—¬ì„œ ë³´ëƒ„
      }
    }
  },
  data: function () {
    return {
      selected_sort_value: null,
      selected_sort_option: null,
      sort_value_options: [
        { value: null, text: 'ì œëª©ìˆœ/ìƒì„±ì‹œê°„ìˆœ', disabled: true },
        { value: 'title', text: 'ì œëª©ìˆœ' },
        { value: 'call_start_time', text: 'ìƒì„±ì‹œê°„ìˆœ' },
      ],
      sort_options: [
        { value: null, text: 'ì˜¤ë¦„ì°¨ìˆœ/ë‚´ë¦¼ì°¨ìˆœ', disabled: true },
        { value: 'asc', text: 'ì˜¤ë¦„ì°¨ìˆœ' },
        { value: 'desc', text: 'ë‚´ë¦¼ì°¨ìˆœ' },
      ],
    }
  },

}
</script>

<style>

</style>
```

----

#### ê³µí†µPJT 3ì£¼ 4ì¼ì°¨ í•™ìŠµí›„ê¸°

```
ê°„ë‹¨í•œ ë°ì´í„° ë°›ì•„ì˜¤ê¸° ê¸°ëŠ¥ì¸ë°ë„ getìš”ì²­í• ë•Œ íŒŒë¼ë¯¸í„° ë„˜ê¸°ëŠ”ê±¸ ì§€ê¸ˆê¹Œì§€ ì œëŒ€ë¡œ í•´ë³¸ ì ì´ ì—†ì–´ì„œ í•˜ë£¨ ì¢…ì¼ ì”¨ë¦„í–ˆë‹¤.. íŒŒë¼ë¯¸í„°ê°€ ì—¬ëŸ¬ê°œì¼ë•Œë„..?? ê·¸ë˜ë„ ì—¬ëŸ¬ê°€ì§€ ì½”ë“œìƒì˜ ì—ëŸ¬ë¥¼ ë„˜ì–´ ê¸°ëŠ¥ì„ ì ìš©ì‹œí‚¬ ìˆ˜ ìˆì—ˆë‹¤. ë‹¤ìŒì—ëŠ” ì´ëŸ° ì—ëŸ¬ ë§Œë‚˜ë©´ ëœ ë‹¹í™©í•˜ê² ì§€! ì•„ì§ ëª…ì„¸ì„œ ê¸°ì¤€ìœ¼ë¡œ ë°˜ì˜ ì•ˆëœ ê¸°ëŠ¥ì´ ë§ì•„ì„œ ê·¸ë¦¬ê³  ë°˜ì˜í•œ ê¸°ëŠ¥ë„ ì™„ë²½í•œ ê²Œ ì•„ë‹ˆë¼ì„œ ê°ˆ ê¸¸ì€ ë©€ì§€ë§Œ.. ğŸ”¥ğŸ”¥ğŸ”¥
```

