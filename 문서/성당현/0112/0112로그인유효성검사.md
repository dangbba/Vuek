21.01.12

## 로그인 유효성 검사



## 들어가며

유효성 체크에서 빠진 것이 없는지 살펴보고 코드를 통일화한다.



```vue template
<b-button v-b-modal.modal2-prevent-closing>로그인</b-button>
            <b-modal id="modal2-prevent-closing" ref="modal" title="로그인" hide-footer>
              <form ref="form">
                <b-form-group class="loginmodal" label="아이디" label-for="id-logininput">
                  <b-form-input id="id-input" v-model="credentials.userId"></b-form-input>
                </b-form-group>
              </form>
              <form ref="form">
                <b-form-group class="loginmodal" label="비밀번호" label-for="password-input">
                  <b-form-input type="password" id="password-input" v-model="credentials.password"></b-form-input>
                </b-form-group>
              </form>
              <div class="find_password">
                <a href="/forget_password">아이디 또는 비밀번호를 잊으셨나요?</a>
              </div>
              <hr>
              <b-button @click="loginIsValid(credentials)"> 로그인 </b-button>
            </b-modal>
```



```vue script methods
loginIsValid: function (cred) {
      console.log(cred)
      if (cred.userId === '' || cred.password === '') {
        Swal.fire({
          icon: 'error',
          title: 'Stop!',
          text: '아이디, 비밀번호는 필수 입력사항입니다.',
        })
      } else if (cred.userId.length > 16) {
        Swal.fire({
          icon: 'error',
          title: 'IdError',
          text: '아이디는 16자를 넘을 수 없습니다.'
        })
      } else if (cred.userId != this.isIdExist) {
        Swal.fire({
          icon: 'error',
          title: '해당 정보 없음',
          text: '해당 아이디가 존재하지 않습니다.'
        })
      } else if (cred.password != this.password) {
        Swal.fire({
          icon: 'error',
          title: '비밀번호 불일치',
          text: '비밀번호가 틀렸습니다.'
        })
      } else if (16 < cred.password.length || 9 > cred.password.length) {
        Swal.fire({
          icon: 'error',
          title: '비밀번호 길이 오류',
          text: '비밀번호는 9자 이상 16자 이하여야 합니다.'
        })
      } else if (cred.password.search(/[0-9]/g) < 0 || cred.password.search(/[a-z]/ig) < 0 || cred.password.search(/[`~!@#$%^&*/?;:]/gi) < 0) {
        Swal.fire({
          icon: 'error',
          title: '비밀번호 유형 오류',
          text: '비밀번호는 영문자, 숫자, 특수문자를 포함해야 합니다.'
        })
      } else {
        console.log(cred)
      }
    },
    logout: function () {
      this.isLogin = false
      localStorage.removeItem('jwt')
      this.$router.push({ name: 'Home' });
    },
```



## 마치며

아이디가 존재하지 않거나 비밀번호가 틀렸을 때의 코드를 맞게 짠건지 잘 모르겠지만, 처음에 놓치고 있던 부분이라 추가해놓았다. 아이디나 비밀번호를 잊었을때 알려주는 것을 어떻게 할 수 있을지 생각해봐야겠다.